<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dceylon Restaurant & Pub | Tropical Nightlife in Mirissa</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Playfair+Display:wght@400;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-green: #00ff9d;
            --primary-blue: #00a8ff;
            --primary-purple: #9c27b0;
            --dark-bg: #0a0a0a;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Poppins', sans-serif;
            background-color: var(--dark-bg);
            color: white;
            overflow-x: hidden;
        }
        
        h1, h2, h3, h4 {
            font-family: 'Playfair Display', serif;
        }
        
        .tropical-gradient {
            background: linear-gradient(135deg, var(--primary-green) 0%, var(--primary-blue) 50%, var(--primary-purple) 100%);
        }
        
        .glass-effect {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .menu-card:hover {
            transform: translateY(-10px);
            transition: transform 0.3s ease;
        }
        
        .gallery-image {
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        
        .gallery-image:hover {
            transform: scale(1.05);
            box-shadow: 0 20px 40px rgba(0, 255, 157, 0.3);
        }
        
        .admin-panel {
            background: rgba(10, 10, 10, 0.98);
            backdrop-filter: blur(20px);
        }
        
        .tab-active {
            border-bottom: 3px solid var(--primary-green);
            color: var(--primary-green);
        }
        
        .modal-overlay {
            background: rgba(0, 0, 0, 0.9);
            backdrop-filter: blur(5px);
        }
        
        /* Custom scrollbar */
        ::-webkit-scrollbar {
            width: 10px;
        }
        
        ::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.05);
        }
        
        ::-webkit-scrollbar-thumb {
            background: var(--primary-green);
            border-radius: 5px;
        }
        
        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .fade-in {
            animation: fadeIn 0.8s ease-out;
        }
        
        /* Image styling */
        .menu-image {
            width: 100%;
            height: 200px;
            object-fit: cover;
            border-radius: 12px;
        }
        
        .gallery-img {
            width: 100%;
            height: 250px;
            object-fit: cover;
            border-radius: 12px;
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .hero-title {
                font-size: 2.5rem !important;
            }
            
            .section-title {
                font-size: 2.5rem !important;
            }
            
            .admin-grid {
                grid-template-columns: 1fr !important;
            }
            
            .menu-image {
                height: 180px;
            }
            
            .gallery-img {
                height: 200px;
            }
        }
        
        /* Loading animation */
        .loading-spinner {
            border: 3px solid rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            border-top: 3px solid var(--primary-green);
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body class="bg-black text-white">
    <!-- Main Container -->
    <div id="app" class="min-h-screen">
        <!-- Public View -->
        <div id="publicView">
            <!-- Navigation -->
            <nav class="fixed w-full z-50 glass-effect py-4">
                <div class="container mx-auto px-4 md:px-6 flex justify-between items-center">
                    <div class="flex items-center space-x-3">
                        <div class="w-10 h-10 rounded-full tropical-gradient flex items-center justify-center">
                            <i class="fas fa-cocktail text-white"></i>
                        </div>
                        <h1 class="text-xl md:text-2xl font-bold">
                            <span class="text-[#00ff9d]">Dceylon</span> Restaurant & Pub
                        </h1>
                    </div>
                    
                    <div class="hidden md:flex space-x-6">
                        <a href="#home" class="hover:text-[#00ff9d] transition-colors">Home</a>
                        <a href="#menu" class="hover:text-[#00ff9d] transition-colors">Menu</a>
                        <a href="#gallery" class="hover:text-[#00ff9d] transition-colors">Gallery</a>
                        <a href="#booking" class="hover:text-[#00ff9d] transition-colors">Booking</a>
                    </div>
                    
                    <button id="mobileMenuBtn" class="md:hidden text-2xl">
                        <i class="fas fa-bars"></i>
                    </button>
                </div>
                
                <!-- Mobile Menu -->
                <div id="mobileMenu" class="md:hidden hidden absolute top-full left-0 w-full bg-black/95 py-6 px-6">
                    <div class="flex flex-col space-y-4">
                        <a href="#home" class="text-lg hover:text-[#00ff9d] transition-colors">Home</a>
                        <a href="#menu" class="text-lg hover:text-[#00ff9d] transition-colors">Menu</a>
                        <a href="#gallery" class="text-lg hover:text-[#00ff9d] transition-colors">Gallery</a>
                        <a href="#booking" class="text-lg hover:text-[#00ff9d] transition-colors">Booking</a>
                    </div>
                </div>
            </nav>

            <!-- Premium Hero Section -->
            <section id="home" class="pt-32 pb-20 px-4 md:px-6 relative min-h-[90vh] flex items-center">
                <!-- Background Image -->
                <div class="absolute inset-0 z-0">
                    <div class="absolute inset-0 bg-gradient-to-r from-black via-black/70 to-transparent z-10"></div>
                    <img id="heroImage" 
                         src="https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?ixlib=rb-4.0.3&auto=format&fit=crop&w=2070&q=80" 
                         alt="Dceylon Restaurant Interior"
                         class="w-full h-full object-cover opacity-40">
                </div>
                
                <div class="container mx-auto relative z-20">
                    <div class="max-w-2xl fade-in">
                        <div class="flex items-center space-x-4 mb-6">
                            <div class="w-16 h-16 rounded-full tropical-gradient flex items-center justify-center">
                                <i class="fas fa-umbrella-beach text-3xl text-white"></i>
                            </div>
                            <h2 class="text-2xl md:text-3xl font-light">Tropical Nightlife Experience</h2>
                        </div>
                        
                        <h1 class="hero-title text-4xl md:text-6xl lg:text-7xl font-bold mb-6 leading-tight">
                            Where <span class="text-[#00ff9d]">Mirissa Magic</span> Meets Luxury
                        </h1>
                        
                        <p id="heroDescription" class="text-lg md:text-xl mb-10 text-gray-300 max-w-lg">
                            Experience beachfront dining, handcrafted cocktails, and vibrant nightlife at Sri Lanka's premier tropical restaurant and pub. Fresh seafood, exotic drinks, and unforgettable evenings.
                        </p>
                        
                        <div class="flex flex-wrap gap-4">
                            <a href="#booking" 
                               class="bg-gradient-to-r from-[#00ff9d] to-[#00a8ff] hover:from-[#00e68a] hover:to-[#0097e6] px-6 md:px-8 py-3 md:py-4 rounded-full text-base md:text-lg font-semibold flex items-center space-x-2 transition-all hover:scale-105">
                                <i class="fas fa-calendar-alt"></i>
                                <span>Book Your Table</span>
                            </a>
                            
                            <a href="#menu" 
                               class="bg-transparent border-2 border-white hover:bg-white/10 px-6 md:px-8 py-3 md:py-4 rounded-full text-base md:text-lg font-semibold transition-all">
                                Explore Our Menu
                            </a>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Dynamic Menu Section -->
            <section id="menu" class="py-16 md:py-20 px-4 md:px-6">
                <div class="container mx-auto">
                    <div class="text-center mb-12 md:mb-16 fade-in">
                        <h2 class="section-title text-3xl md:text-5xl font-bold mb-4">Food & Drinks Menu</h2>
                        <p class="text-gray-400 max-w-2xl mx-auto">Crafted with fresh local ingredients and tropical inspiration</p>
                    </div>
                    
                    <!-- Menu Tabs -->
                    <div class="flex flex-wrap justify-center mb-8 md:mb-12 border-b border-gray-800">
                        <button onclick="showMenuCategory('all')" class="tab-button px-4 md:px-8 py-3 text-base md:text-lg font-semibold tab-active" data-category="all">
                            All Items
                        </button>
                        <button onclick="showMenuCategory('food')" class="tab-button px-4 md:px-8 py-3 text-base md:text-lg font-semibold" data-category="food">
                            <i class="fas fa-utensils mr-2"></i>Food
                        </button>
                        <button onclick="showMenuCategory('drinks')" class="tab-button px-4 md:px-8 py-3 text-base md:text-lg font-semibold" data-category="drinks">
                            <i class="fas fa-cocktail mr-2"></i>Drinks
                        </button>
                        <button onclick="showMenuCategory('desserts')" class="tab-button px-4 md:px-8 py-3 text-base md:text-lg font-semibold" data-category="desserts">
                            <i class="fas fa-ice-cream mr-2"></i>Desserts
                        </button>
                    </div>
                    
                    <!-- Menu Items Container -->
                    <div id="menuContainer" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 md:gap-8">
                        <!-- Menu items will be loaded here dynamically -->
                    </div>
                </div>
            </section>

            <!-- Dynamic Gallery Section -->
            <section id="gallery" class="py-16 md:py-20 px-4 md:px-6 bg-gray-900/30">
                <div class="container mx-auto">
                    <div class="text-center mb-12 md:mb-16 fade-in">
                        <h2 class="section-title text-3xl md:text-5xl font-bold mb-4">Our Gallery</h2>
                        <p class="text-gray-400 max-w-2xl mx-auto">Experience the tropical ambiance and culinary excellence</p>
                    </div>
                    
                    <div id="galleryContainer" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
                        <!-- Gallery images will be loaded here dynamically -->
                    </div>
                </div>
            </section>

            <!-- Booking Section -->
            <section id="booking" class="py-16 md:py-20 px-4 md:px-6">
                <div class="container mx-auto">
                    <div class="max-w-2xl mx-auto">
                        <div class="text-center mb-12 fade-in">
                            <h2 class="section-title text-3xl md:text-5xl font-bold mb-4">Reserve Your Table</h2>
                            <p class="text-gray-400">Book your tropical dining experience in advance</p>
                        </div>
                        
                        <div class="glass-effect rounded-2xl md:rounded-3xl p-6 md:p-8 fade-in">
                            <form id="bookingForm" class="space-y-6">
                                <div class="grid md:grid-cols-2 gap-6">
                                    <div>
                                        <label class="block mb-2 font-semibold">Full Name *</label>
                                        <input type="text" 
                                               id="bookingName"
                                               required
                                               class="w-full p-3 rounded-lg bg-gray-900 border border-gray-700 focus:border-[#00ff9d] focus:outline-none transition-colors">
                                    </div>
                                    
                                    <div>
                                        <label class="block mb-2 font-semibold">Phone Number *</label>
                                        <input type="tel" 
                                               id="bookingPhone"
                                               required
                                               class="w-full p-3 rounded-lg bg-gray-900 border border-gray-700 focus:border-[#00ff9d] focus:outline-none transition-colors">
                                    </div>
                                </div>
                                
                                <div class="grid md:grid-cols-2 gap-6">
                                    <div>
                                        <label class="block mb-2 font-semibold">Date *</label>
                                        <input type="date" 
                                               id="bookingDate"
                                               required
                                               min="" 
                                               class="w-full p-3 rounded-lg bg-gray-900 border border-gray-700 focus:border-[#00ff9d] focus:outline-none transition-colors">
                                    </div>
                                    
                                    <div>
                                        <label class="block mb-2 font-semibold">Time *</label>
                                        <select id="bookingTime" 
                                                required
                                                class="w-full p-3 rounded-lg bg-gray-900 border border-gray-700 focus:border-[#00ff9d] focus:outline-none transition-colors">
                                            <option value="">Select Time</option>
                                            <option value="18:00">6:00 PM</option>
                                            <option value="18:30">6:30 PM</option>
                                            <option value="19:00">7:00 PM</option>
                                            <option value="19:30">7:30 PM</option>
                                            <option value="20:00">8:00 PM</option>
                                            <option value="20:30">8:30 PM</option>
                                            <option value="21:00">9:00 PM</option>
                                            <option value="21:30">9:30 PM</option>
                                            <option value="22:00">10:00 PM</option>
                                        </select>
                                    </div>
                                </div>
                                
                                <div>
                                    <label class="block mb-2 font-semibold">Number of Guests *</label>
                                    <select id="bookingGuests" 
                                            required
                                            class="w-full p-3 rounded-lg bg-gray-900 border border-gray-700 focus:border-[#00ff9d] focus:outline-none transition-colors">
                                        <option value="">Select...</option>
                                        <option value="1">1 Person</option>
                                        <option value="2">2 People</option>
                                        <option value="3">3 People</option>
                                        <option value="4">4 People</option>
                                        <option value="5">5 People</option>
                                        <option value="6">6 People</option>
                                        <option value="7">7 People</option>
                                        <option value="8">8+ People</option>
                                    </select>
                                </div>
                                
                                <div>
                                    <label class="block mb-2 font-semibold">Special Requests (Optional)</label>
                                    <textarea id="bookingRequests" 
                                              rows="3"
                                              class="w-full p-3 rounded-lg bg-gray-900 border border-gray-700 focus:border-[#00ff9d] focus:outline-none transition-colors"
                                              placeholder="Dietary restrictions, celebrations, etc."></textarea>
                                </div>
                                
                                <div class="pt-4">
                                    <button type="submit" 
                                            class="w-full tropical-gradient text-black font-bold py-4 rounded-xl text-lg hover:opacity-90 transition-all transform hover:scale-[1.02]">
                                        <i class="fas fa-calendar-check mr-3"></i>
                                        Confirm Reservation
                                    </button>
                                </div>
                                
                                <div id="bookingMessage" class="hidden text-center p-4 rounded-lg"></div>
                            </form>
                        </div>
                        
                        <!-- Booking Confirmation Modal -->
                        <div id="bookingModal" class="fixed inset-0 z-50 hidden items-center justify-center p-4">
                            <div class="modal-overlay absolute inset-0"></div>
                            <div class="bg-gray-900 rounded-2xl max-w-md w-full p-6 md:p-8 relative z-10 transform scale-95 transition-transform duration-300">
                                <div class="text-center">
                                    <div class="w-16 h-16 md:w-20 md:h-20 rounded-full tropical-gradient flex items-center justify-center mx-auto mb-6">
                                        <i class="fas fa-check text-2xl md:text-3xl text-black"></i>
                                    </div>
                                    <h3 class="text-xl md:text-2xl font-bold mb-4">Booking Confirmed!</h3>
                                    <p id="modalMessage" class="text-gray-300 mb-6 md:mb-8">Your table has been reserved successfully.</p>
                                    <button onclick="closeBookingModal()" 
                                            class="bg-gradient-to-r from-[#00ff9d] to-[#00a8ff] px-6 md:px-8 py-3 rounded-full font-semibold">
                                        Done
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Contact Info Section -->
            <section class="py-12 px-4 md:px-6 bg-gray-900">
                <div class="container mx-auto">
                    <div class="grid md:grid-cols-2 gap-8">
                        <div>
                            <h3 class="text-xl font-bold mb-6">Opening Hours</h3>
                            <div id="openingHours" class="space-y-3">
                                <!-- Opening hours loaded from localStorage -->
                            </div>
                        </div>
                        
                        <div>
                            <h3 class="text-xl font-bold mb-6">Contact Information</h3>
                            <div class="space-y-4">
                                <p class="text-gray-300">
                                    <i class="fas fa-map-marker-alt text-[#00ff9d] mr-3"></i>
                                    Beach Road, Mirissa, Sri Lanka
                                </p>
                                <p class="text-gray-300">
                                    <i class="fas fa-phone text-[#00ff9d] mr-3"></i>
                                    <span id="contactPhone">+94 77 123 4567</span>
                                </p>
                                <p class="text-gray-300">
                                    <i class="fas fa-envelope text-[#00ff9d] mr-3"></i>
                                    <span id="contactEmail">info@dceylonmirissa.com</span>
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Footer -->
            <footer class="bg-black py-12 px-4 md:px-6 border-t border-gray-800">
                <div class="container mx-auto">
                    <div class="grid md:grid-cols-3 gap-8 md:gap-12">
                        <div>
                            <div class="flex items-center space-x-3 mb-6">
                                <div class="w-12 h-12 rounded-full tropical-gradient flex items-center justify-center">
                                    <i class="fas fa-cocktail text-xl text-white"></i>
                                </div>
                                <h2 class="text-xl md:text-2xl font-bold">
                                    <span class="text-[#00ff9d]">Dceylon</span> Restaurant & Pub
                                </h2>
                            </div>
                            <p class="text-gray-400">
                                Experience the ultimate tropical nightlife destination in Mirissa.
                            </p>
                        </div>
                        
                        <div>
                            <h3 class="text-lg md:text-xl font-bold mb-6">Quick Links</h3>
                            <div class="grid grid-cols-2 gap-4">
                                <a href="#home" class="text-gray-400 hover:text-[#00ff9d] transition-colors">Home</a>
                                <a href="#menu" class="text-gray-400 hover:text-[#00ff9d] transition-colors">Menu</a>
                                <a href="#gallery" class="text-gray-400 hover:text-[#00ff9d] transition-colors">Gallery</a>
                                <a href="#booking" class="text-gray-400 hover:text-[#00ff9d] transition-colors">Booking</a>
                            </div>
                        </div>
                        
                        <div>
                            <h3 class="text-lg md:text-xl font-bold mb-6">Admin Access</h3>
                            <button onclick="openAdminLogin()" 
                                    class="w-full bg-gradient-to-r from-[#00ff9d] to-[#00a8ff] text-black font-bold py-3 rounded-lg hover:opacity-90 transition">
                                <i class="fas fa-lock mr-2"></i>Admin Dashboard
                            </button>
                            <p class="text-gray-400 text-sm mt-4">
                                Manage bookings, menu, gallery, and content
                            </p>
                        </div>
                    </div>
                    
                    <div class="border-t border-gray-800 mt-12 pt-8 text-center text-gray-500">
                        <p>&copy; 2024 Dceylon Restaurant & Pub, Mirissa. All rights reserved.</p>
                        <p class="mt-2">All data is stored locally in your browser</p>
                    </div>
                </div>
            </footer>
        </div>

        <!-- Admin Dashboard (Hidden by default) -->
        <div id="adminView" class="hidden min-h-screen admin-panel">
            <div class="container mx-auto px-4 md:px-6 py-8">
                <!-- Admin Header -->
                <div class="flex flex-col md:flex-row justify-between items-start md:items-center mb-8 gap-4">
                    <div>
                        <h2 class="text-2xl md:text-3xl font-bold">
                            <i class="fas fa-crown text-yellow-400 mr-3"></i>
                            Dceylon Admin Dashboard
                        </h2>
                        <p class="text-gray-400">Manage bookings, menu, gallery, and content</p>
                    </div>
                    
                    <div class="flex space-x-4">
                        <button onclick="saveAllData()" 
                                class="bg-green-500 hover:bg-green-600 px-4 md:px-6 py-2 md:py-3 rounded-lg font-semibold transition-colors">
                            <i class="fas fa-save mr-2"></i>Save All
                        </button>
                        <button onclick="switchToPublicView()" 
                                class="bg-red-500 hover:bg-red-600 px-4 md:px-6 py-2 md:py-3 rounded-lg font-semibold transition-colors">
                            <i class="fas fa-sign-out-alt mr-2"></i>Exit Admin
                        </button>
                    </div>
                </div>
                
                <!-- Admin Tabs -->
                <div class="flex flex-wrap border-b border-gray-800 mb-8">
                    <button onclick="showAdminTab('bookings')" 
                            class="admin-tab px-4 md:px-6 py-3 font-semibold tab-active" data-tab="bookings">
                        <i class="fas fa-calendar-check mr-2"></i>Bookings
                    </button>
                    <button onclick="showAdminTab('menu')" 
                            class="admin-tab px-4 md:px-6 py-3 font-semibold" data-tab="menu">
                        <i class="fas fa-utensils mr-2"></i>Menu Manager
                    </button>
                    <button onclick="showAdminTab('content')" 
                            class="admin-tab px-4 md:px-6 py-3 font-semibold" data-tab="content">
                        <i class="fas fa-images mr-2"></i>Content Manager
                    </button>
                    <button onclick="showAdminTab('info')" 
                            class="admin-tab px-4 md:px-6 py-3 font-semibold" data-tab="info">
                        <i class="fas fa-info-circle mr-2"></i>Contact & Hours
                    </button>
                </div>
                
                <!-- Bookings Manager -->
                <div id="adminBookings" class="admin-tab-content fade-in">
                    <div class="mb-6">
                        <h3 class="text-xl md:text-2xl font-bold mb-4">Booking Management</h3>
                        <p class="text-gray-400">View and manage customer reservations</p>
                    </div>
                    
                    <!-- Stats Cards -->
                    <div class="grid grid-cols-1 md:grid-cols-4 gap-4 mb-8">
                        <div class="bg-gray-800/50 p-4 rounded-xl">
                            <div class="text-2xl font-bold text-[#00ff9d]" id="totalBookings">0</div>
                            <div class="text-gray-400">Total Bookings</div>
                        </div>
                        <div class="bg-gray-800/50 p-4 rounded-xl">
                            <div class="text-2xl font-bold text-blue-400" id="todayBookings">0</div>
                            <div class="text-gray-400">Today's Bookings</div>
                        </div>
                        <div class="bg-gray-800/50 p-4 rounded-xl">
                            <div class="text-2xl font-bold text-yellow-400" id="pendingBookings">0</div>
                            <div class="text-gray-400">Pending</div>
                        </div>
                        <div class="bg-gray-800/50 p-4 rounded-xl">
                            <div class="text-2xl font-bold text-green-400" id="confirmedBookings">0</div>
                            <div class="text-gray-400">Confirmed</div>
                        </div>
                    </div>
                    
                    <!-- Bookings Table -->
                    <div class="bg-gray-900/50 rounded-xl overflow-hidden">
                        <div class="overflow-x-auto">
                            <table class="w-full">
                                <thead class="bg-gray-800">
                                    <tr>
                                        <th class="p-3 text-left">Name</th>
                                        <th class="p-3 text-left">Date & Time</th>
                                        <th class="p-3 text-left">Guests</th>
                                        <th class="p-3 text-left">Phone</th>
                                        <th class="p-3 text-left">Status</th>
                                        <th class="p-3 text-left">Actions</th>
                                    </tr>
                                </thead>
                                <tbody id="bookingsTableBody">
                                    <!-- Bookings loaded here -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                    
                    <div class="text-gray-400 text-sm mt-4">
                        <i class="fas fa-info-circle mr-2"></i>
                        Bookings are stored in browser's localStorage
                    </div>
                </div>
                
                <!-- Menu Manager -->
                <div id="adminMenu" class="admin-tab-content hidden fade-in">
                    <div class="mb-6">
                        <h3 class="text-xl md:text-2xl font-bold mb-4">Menu Management</h3>
                        <p class="text-gray-400">Add, edit, or delete menu items with images</p>
                    </div>
                    
                    <!-- Add New Item Form -->
                    <div class="glass-effect rounded-xl p-4 md:p-6 mb-8">
                        <h4 class="text-lg md:text-xl font-bold mb-6">Add New Menu Item</h4>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6">
                            <div>
                                <label class="block mb-2 font-semibold">Item Name *</label>
                                <input type="text" 
                                       id="newItemName"
                                       class="w-full p-3 rounded-lg bg-gray-800 border border-gray-700 focus:border-[#00ff9d] focus:outline-none">
                            </div>
                            <div>
                                <label class="block mb-2 font-semibold">Category *</label>
                                <select id="newItemCategory" 
                                        class="w-full p-3 rounded-lg bg-gray-800 border border-gray-700 focus:border-[#00ff9d] focus:outline-none">
                                    <option value="food">Food</option>
                                    <option value="drinks">Drinks</option>
                                    <option value="desserts">Desserts</option>
                                </select>
                            </div>
                            <div>
                                <label class="block mb-2 font-semibold">Price (USD) *</label>
                                <input type="number" 
                                       id="newItemPrice"
                                       step="0.01"
                                       min="0"
                                       class="w-full p-3 rounded-lg bg-gray-800 border border-gray-700 focus:border-[#00ff9d] focus:outline-none">
                            </div>
                            <div>
                                <label class="block mb-2 font-semibold">Image URL *</label>
                                <input type="text" 
                                       id="newItemImage"
                                       placeholder="https://example.com/image.jpg"
                                       class="w-full p-3 rounded-lg bg-gray-800 border border-gray-700 focus:border-[#00ff9d] focus:outline-none">
                            </div>
                            <div class="md:col-span-2">
                                <label class="block mb-2 font-semibold">Description</label>
                                <textarea id="newItemDescription" 
                                          rows="2"
                                          class="w-full p-3 rounded-lg bg-gray-800 border border-gray-700 focus:border-[#00ff9d] focus:outline-none"></textarea>
                            </div>
                            <div class="md:col-span-2">
                                <button onclick="addMenuItem()" 
                                        class="bg-gradient-to-r from-[#00ff9d] to-[#00a8ff] px-6 py-3 rounded-lg font-bold hover:opacity-90 transition">
                                    <i class="fas fa-plus mr-2"></i>
                                    Add Menu Item
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Current Menu Items -->
                    <div class="glass-effect rounded-xl p-4 md:p-6">
                        <h4 class="text-lg md:text-xl font-bold mb-6">Current Menu Items</h4>
                        <div id="adminMenuItems" class="space-y-4">
                            <!-- Menu items loaded here -->
                        </div>
                    </div>
                </div>
                
                <!-- Content Manager -->
                <div id="adminContent" class="admin-tab-content hidden fade-in">
                    <div class="mb-6">
                        <h3 class="text-xl md:text-2xl font-bold mb-4">Content & Photo Management</h3>
                        <p class="text-gray-400">Update hero section, gallery, and descriptions</p>
                    </div>
                    
                    <div class="admin-grid grid grid-cols-1 lg:grid-cols-2 gap-6 md:gap-8">
                        <!-- Hero Section Manager -->
                        <div class="glass-effect rounded-xl p-4 md:p-6">
                            <h4 class="text-lg md:text-xl font-bold mb-6">Hero Section</h4>
                            <div class="space-y-4">
                                <div>
                                    <label class="block mb-2 font-semibold">Hero Image URL</label>
                                    <input type="text" 
                                           id="heroImageUrl"
                                           value="https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?ixlib=rb-4.0.3&auto=format&fit=crop&w=2070&q=80"
                                           class="w-full p-3 rounded-lg bg-gray-800 border border-gray-700 focus:border-[#00ff9d] focus:outline-none">
                                    <p class="text-gray-400 text-sm mt-2">Enter a direct image URL</p>
                                    <div class="mt-2 p-2 bg-gray-800 rounded">
                                        <p class="text-sm text-gray-400">Preview:</p>
                                        <img id="heroImagePreview" src="" alt="Hero Preview" class="mt-2 rounded h-32 w-full object-cover">
                                    </div>
                                </div>
                                <div>
                                    <label class="block mb-2 font-semibold">Restaurant Description</label>
                                    <textarea id="heroDescriptionText" 
                                              rows="4"
                                              class="w-full p-3 rounded-lg bg-gray-800 border border-gray-700 focus:border-[#00ff9d] focus:outline-none"></textarea>
                                </div>
                                <button onclick="updateHeroContent()" 
                                        class="bg-gradient-to-r from-[#00ff9d] to-[#00a8ff] px-6 py-3 rounded-lg font-bold hover:opacity-90 transition">
                                    <i class="fas fa-sync mr-2"></i>
                                    Update Hero Content
                                </button>
                            </div>
                        </div>
                        
                        <!-- Gallery Manager -->
                        <div class="glass-effect rounded-xl p-4 md:p-6">
                            <h4 class="text-lg md:text-xl font-bold mb-6">Gallery Images</h4>
                            <div class="space-y-4">
                                <div>
                                    <label class="block mb-2 font-semibold">Add Gallery Image URL</label>
                                    <div class="flex gap-2">
                                        <input type="text" 
                                               id="newGalleryUrl"
                                               placeholder="https://example.com/image.jpg"
                                               class="flex-grow p-3 rounded-lg bg-gray-800 border border-gray-700 focus:border-[#00ff9d] focus:outline-none">
                                        <button onclick="addGalleryImage()" 
                                                class="bg-green-500 hover:bg-green-600 px-4 py-3 rounded-lg font-semibold transition-colors">
                                            <i class="fas fa-plus"></i>
                                        </button>
                                    </div>
                                    <div class="mt-2 p-2 bg-gray-800 rounded">
                                        <p class="text-sm text-gray-400">Preview:</p>
                                        <img id="galleryPreview" src="" alt="Gallery Preview" class="mt-2 rounded h-24 w-full object-cover">
                                    </div>
                                </div>
                                
                                <div id="galleryManager" class="space-y-3 max-h-60 overflow-y-auto p-2">
                                    <!-- Gallery images loaded here -->
                                </div>
                                
                                <div class="text-gray-400 text-sm">
                                    <i class="fas fa-lightbulb mr-2"></i>
                                    Tip: Use high-quality images (1200x800px recommended)
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Current Images Preview -->
                    <div class="glass-effect rounded-xl p-4 md:p-6 mt-6 md:mt-8">
                        <h4 class="text-lg md:text-xl font-bold mb-6">Current Images Preview</h4>
                        <div id="currentImagesPreview" class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4">
                            <!-- Image previews loaded here -->
                        </div>
                    </div>
                </div>
                
                <!-- Contact & Hours Manager -->
                <div id="adminInfo" class="admin-tab-content hidden fade-in">
                    <div class="mb-6">
                        <h3 class="text-xl md:text-2xl font-bold mb-4">Contact Information & Opening Hours</h3>
                        <p class="text-gray-400">Update contact details and business hours</p>
                    </div>
                    
                    <div class="admin-grid grid grid-cols-1 lg:grid-cols-2 gap-6 md:gap-8">
                        <!-- Contact Info -->
                        <div class="glass-effect rounded-xl p-4 md:p-6">
                            <h4 class="text-lg md:text-xl font-bold mb-6">Contact Information</h4>
                            <div class="space-y-4">
                                <div>
                                    <label class="block mb-2 font-semibold">Phone Number</label>
                                    <input type="text" 
                                           id="contactPhoneInput"
                                           value="+94 77 123 4567"
                                           class="w-full p-3 rounded-lg bg-gray-800 border border-gray-700 focus:border-[#00ff9d] focus:outline-none">
                                </div>
                                <div>
                                    <label class="block mb-2 font-semibold">Email Address</label>
                                    <input type="email" 
                                           id="contactEmailInput"
                                           value="info@dceylonmirissa.com"
                                           class="w-full p-3 rounded-lg bg-gray-800 border border-gray-700 focus:border-[#00ff9d] focus:outline-none">
                                </div>
                                <div>
                                    <label class="block mb-2 font-semibold">Address</label>
                                    <textarea id="contactAddressInput" 
                                              rows="2"
                                              class="w-full p-3 rounded-lg bg-gray-800 border border-gray-700 focus:border-[#00ff9d] focus:outline-none">Beach Road, Mirissa, Sri Lanka</textarea>
                                </div>
                                <button onclick="updateContactInfo()" 
                                        class="bg-gradient-to-r from-[#00ff9d] to-[#00a8ff] px-6 py-3 rounded-lg font-bold hover:opacity-90 transition">
                                    <i class="fas fa-save mr-2"></i>
                                    Update Contact Info
                                </button>
                            </div>
                        </div>
                        
                        <!-- Opening Hours -->
                        <div class="glass-effect rounded-xl p-4 md:p-6">
                            <h4 class="text-lg md:text-xl font-bold mb-6">Opening Hours</h4>
                            <div id="openingHoursInputs" class="space-y-4">
                                <!-- Opening hours inputs loaded here -->
                            </div>
                            <button onclick="updateOpeningHours()" 
                                    class="bg-gradient-to-r from-[#00ff9d] to-[#00a8ff] px-6 py-3 rounded-lg font-bold hover:opacity-90 transition mt-6">
                                <i class="fas fa-save mr-2"></i>
                                Update Opening Hours
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Admin Login Modal -->
        <div id="adminLoginModal" class="fixed inset-0 z-50 hidden items-center justify-center p-4">
            <div class="modal-overlay absolute inset-0"></div>
            <div class="bg-gray-900 rounded-2xl max-w-md w-full p-6 md:p-8 relative z-10">
                <div class="text-center mb-8">
                    <div class="w-16 h-16 rounded-full tropical-gradient flex items-center justify-center mx-auto mb-4">
                        <i class="fas fa-lock text-2xl text-black"></i>
                    </div>
                    <h3 class="text-xl md:text-2xl font-bold">Admin Login</h3>
                    <p class="text-gray-400 mt-2">Enter admin credentials</p>
                </div>
                
                <div class="space-y-6">
                    <div>
                        <label class="block mb-2 font-semibold">Admin Password</label>
                        <input type="password" 
                               id="adminPassword"
                               class="w-full p-3 rounded-lg bg-gray-800 border border-gray-700 focus:border-[#00ff9d] focus:outline-none"
                               placeholder="Enter password">
                    </div>
                    
                    <button onclick="adminLogin()" 
                            class="w-full tropical-gradient text-black font-bold py-3 rounded-lg text-lg hover:opacity-90 transition">
                        <i class="fas fa-sign-in-alt mr-3"></i>
                        Login to Dashboard
                    </button>
                    
                    <div class="text-center">
                        <button onclick="closeAdminLogin()" 
                                class="text-gray-400 hover:text-white transition-colors">
                            Cancel
                        </button>
                    </div>
                    
                    <div class="text-gray-400 text-sm text-center border-t border-gray-800 pt-4">
                        <i class="fas fa-info-circle mr-2"></i>
                        Demo password: <code class="bg-gray-800 px-2 py-1 rounded">admin123</code>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- JavaScript -->
    <script>
        // =====================
        // GLOBAL DATA & INITIALIZATION
        // =====================
        
        // Default data structure
        const defaultData = {
            // Menu items with image URLs
            menuItems: [
                {
                    id: 1,
                    name: "Tropical Seafood Platter",
                    category: "food",
                    description: "Fresh lobster, prawns, octopus, and fish with coconut rice",
                    price: 24.99,
                    image: "https://images.unsplash.com/photo-1565299624946-b28f40a0ae38?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"
                },
                {
                    id: 2,
                    name: "Mirissa Sunset Cocktail",
                    category: "drinks",
                    description: "Rum, pineapple, mango, and grenadine with a citrus twist",
                    price: 12.50,
                    image: "https://images.unsplash.com/photo-1514362545857-3bc16c4c7d1b?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"
                },
                {
                    id: 3,
                    name: "Ceylon Spicy Curry Feast",
                    category: "food",
                    description: "Traditional Sri Lankan curry with rice, sambol, and papadum",
                    price: 16.75,
                    image: "https://images.unsplash.com/photo-1585937421612-70ca003675ed?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"
                },
                {
                    id: 4,
                    name: "Ocean Breeze Mocktail",
                    category: "drinks",
                    description: "Blue curacao, lemon, lime, and soda with mint garnish",
                    price: 8.99,
                    image: "https://images.unsplash.com/photo-1551024709-8f23befc6f87?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"
                },
                {
                    id: 5,
                    name: "Tropical Fruit Platter",
                    category: "desserts",
                    description: "Seasonal tropical fruits with passion fruit drizzle",
                    price: 9.50,
                    image: "https://images.unsplash.com/photo-1571575173700-afb9492e6a50?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"
                },
                {
                    id: 6,
                    name: "Coconut Mojito",
                    category: "drinks",
                    description: "White rum, fresh mint, lime, coconut water, and soda",
                    price: 10.99,
                    image: "https://images.unsplash.com/photo-1470337458703-46ad1756a187?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"
                }
            ],
            
            // Gallery images
            galleryImages: [
                "https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",
                "https://images.unsplash.com/photo-1559925393-8be0ec4767c8?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",
                "https://images.unsplash.com/photo-1569074187119-c87815b476da?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",
                "https://images.unsplash.com/photo-1578474846511-04ba529f0b88?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",
                "https://images.unsplash.com/photo-1514933651103-005eec06c04b?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",
                "https://images.unsplash.com/photo-1554679665-f5537f187268?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"
            ],
            
            // Hero content
            heroContent: {
                image: "https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?ixlib=rb-4.0.3&auto=format&fit=crop&w=2070&q=80",
                description: "Experience beachfront dining, handcrafted cocktails, and vibrant nightlife at Sri Lanka's premier tropical restaurant and pub. Fresh seafood, exotic drinks, and unforgettable evenings."
            },
            
            // Contact information
            contactInfo: {
                phone: "+94 77 123 4567",
                email: "info@dceylonmirissa.com",
                address: "Beach Road, Mirissa, Sri Lanka"
            },
            
            // Opening hours
            openingHours: [
                { day: "Monday - Thursday", hours: "4:00 PM - 1:00 AM" },
                { day: "Friday - Saturday", hours: "4:00 PM - 2:00 AM" },
                { day: "Sunday", hours: "4:00 PM - 12:00 AM" }
            ],
            
            // Bookings
            bookings: []
        };
        
        // Current data (loaded from localStorage)
        let appData = { ...defaultData };
        
        // Admin credentials
        const ADMIN_PASSWORD = "admin123";
        
        // =====================
        // INITIALIZATION
        // =====================
        
        document.addEventListener('DOMContentLoaded', function() {
            // Load data from localStorage
            loadAppData();
            
            // Initialize today's date for booking
            const today = new Date().toISOString().split('T')[0];
            document.getElementById('bookingDate').min = today;
            document.getElementById('bookingDate').value = today;
            
            // Initialize public view
            initializePublicView();
            
            // Setup event listeners
            setupEventListeners();
            
            // Setup image previews
            setupImagePreviews();
        });
        
        function loadAppData() {
            const savedData = localStorage.getItem('dceylonRestaurantData');
            if (savedData) {
                try {
                    appData = JSON.parse(savedData);
                    // Ensure all data structures exist
                    appData.menuItems = appData.menuItems || defaultData.menuItems;
                    appData.galleryImages = appData.galleryImages || defaultData.galleryImages;
                    appData.heroContent = appData.heroContent || defaultData.heroContent;
                    appData.contactInfo = appData.contactInfo || defaultData.contactInfo;
                    appData.openingHours = appData.openingHours || defaultData.openingHours;
                    appData.bookings = appData.bookings || [];
                } catch (e) {
                    console.error('Error loading saved data:', e);
                    appData = { ...defaultData };
                }
            }
        }
        
        function saveAppData() {
            try {
                localStorage.setItem('dceylonRestaurantData', JSON.stringify(appData));
                console.log('Data saved to localStorage');
            } catch (e) {
                console.error('Error saving data:', e);
            }
        }
        
        function initializePublicView() {
            // Load hero content
            document.getElementById('heroImage').src = appData.heroContent.image;
            document.getElementById('heroDescription').textContent = appData.heroContent.description;
            
            // Load contact info
            document.getElementById('contactPhone').textContent = appData.contactInfo.phone;
            document.getElementById('contactEmail').textContent = appData.contactInfo.email;
            
            // Load opening hours
            renderOpeningHours();
            
            // Load menu
            showMenuCategory('all');
            
            // Load gallery
            renderGallery();
            
            // Load bookings for admin panel
            loadBookings();
        }
        
        function setupEventListeners() {
            // Mobile menu toggle
            document.getElementById('mobileMenuBtn').addEventListener('click', function() {
                const mobileMenu = document.getElementById('mobileMenu');
                mobileMenu.classList.toggle('hidden');
                this.innerHTML = mobileMenu.classList.contains('hidden') ? 
                    '<i class="fas fa-bars"></i>' : 
                    '<i class="fas fa-times"></i>';
            });
            
            // Smooth scrolling for anchor links
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function(e) {
                    e.preventDefault();
                    const targetId = this.getAttribute('href');
                    if(targetId === '#') return;
                    
                    const targetElement = document.querySelector(targetId);
                    if(targetElement) {
                        window.scrollTo({
                            top: targetElement.offsetTop - 80,
                            behavior: 'smooth'
                        });
                        
                        // Close mobile menu if open
                        document.getElementById('mobileMenu').classList.add('hidden');
                        document.getElementById('mobileMenuBtn').innerHTML = '<i class="fas fa-bars"></i>';
                    }
                });
            });
            
            // Booking form submission
            document.getElementById('bookingForm').addEventListener('submit', function(e) {
                e.preventDefault();
                submitBooking();
            });
            
            // Image preview for hero image input
            document.getElementById('heroImageUrl').addEventListener('input', function() {
                const preview = document.getElementById('heroImagePreview');
                preview.src = this.value || 'https://via.placeholder.com/400x300/1a1a1a/ffffff?text=Image+Preview';
            });
            
            // Image preview for gallery input
            document.getElementById('newGalleryUrl').addEventListener('input', function() {
                const preview = document.getElementById('galleryPreview');
                preview.src = this.value || 'https://via.placeholder.com/400x300/1a1a1a/ffffff?text=Image+Preview';
            });
        }
        
        function setupImagePreviews() {
            // Set initial previews
            document.getElementById('heroImagePreview').src = appData.heroContent.image;
            document.getElementById('galleryPreview').src = 'https://via.placeholder.com/400x300/1a1a1a/ffffff?text=Add+Image+URL';
            
            // Set initial values in admin forms
            document.getElementById('heroImageUrl').value = appData.heroContent.image;
            document.getElementById('heroDescriptionText').value = appData.heroContent.description;
            document.getElementById('contactPhoneInput').value = appData.contactInfo.phone;
            document.getElementById('contactEmailInput').value = appData.contactInfo.email;
            document.getElementById('contactAddressInput').value = appData.contactInfo.address;
            
            // Render opening hours inputs
            renderOpeningHoursInputs();
        }
        
        // =====================
        // PUBLIC VIEW FUNCTIONS
        // =====================
        
        function showMenuCategory(category) {
            // Update active tab
            document.querySelectorAll('.tab-button').forEach(button => {
                if(button.getAttribute('data-category') === category) {
                    button.classList.add('tab-active');
                } else {
                    button.classList.remove('tab-active');
                }
            });
            
            // Filter menu items
            const filteredItems = category === 'all' 
                ? appData.menuItems 
                : appData.menuItems.filter(item => item.category === category);
            
            // Render menu items
            const menuContainer = document.getElementById('menuContainer');
            menuContainer.innerHTML = '';
            
            if (filteredItems.length === 0) {
                menuContainer.innerHTML = `
                    <div class="col-span-3 text-center py-12">
                        <p class="text-gray-400 text-xl">No menu items in this category yet.</p>
                    </div>
                `;
                return;
            }
            
            filteredItems.forEach(item => {
                const menuCard = document.createElement('div');
                menuCard.className = 'menu-card bg-gray-900/50 rounded-2xl p-4 md:p-6 border border-gray-800 hover:border-[#00ff9d] transition-all duration-300';
                menuCard.innerHTML = `
                    <div class="mb-4">
                        <img src="${item.image || 'https://via.placeholder.com/400x300/1a1a1a/ffffff?text=Menu+Item'}" 
                             alt="${item.name}"
                             class="menu-image object-cover rounded-xl">
                    </div>
                    <div class="flex items-start justify-between mb-3">
                        <h3 class="text-lg md:text-xl font-bold">${item.name}</h3>
                        <span class="bg-gray-800 px-2 md:px-3 py-1 rounded-full text-xs md:text-sm capitalize">${item.category}</span>
                    </div>
                    <p class="text-gray-400 text-sm md:text-base mb-4">${item.description}</p>
                    <div class="flex justify-between items-center">
                        <span class="text-xl md:text-2xl font-bold text-[#00ff9d]">$${item.price.toFixed(2)}</span>
                        <button class="text-sm bg-gray-800 hover:bg-gray-700 px-3 md:px-4 py-2 rounded-lg transition-colors">
                            <i class="fas fa-plus mr-2"></i>Add
                        </button>
                    </div>
                `;
                menuContainer.appendChild(menuCard);
            });
            
            // Add animation to cards
            setTimeout(() => {
                document.querySelectorAll('.menu-card').forEach((card, index) => {
                    card.style.animation = `fadeIn 0.5s ease-out ${index * 0.1}s both`;
                });
            }, 100);
        }
        
        function renderGallery() {
            const galleryContainer = document.getElementById('galleryContainer');
            galleryContainer.innerHTML = '';
            
            appData.galleryImages.forEach((imageUrl, index) => {
                const galleryItem = document.createElement('div');
                galleryItem.className = 'gallery-image rounded-xl overflow-hidden';
                galleryItem.innerHTML = `
                    <img src="${imageUrl}" 
                         alt="Gallery Image ${index + 1}"
                         class="gallery-img object-cover w-full">
                `;
                galleryContainer.appendChild(galleryItem);
            });
            
            // Add animation
            setTimeout(() => {
                document.querySelectorAll('.gallery-image').forEach((item, index) => {
                    item.style.animation = `fadeIn 0.5s ease-out ${index * 0.1}s both`;
                });
            }, 100);
        }
        
        function renderOpeningHours() {
            const container = document.getElementById('openingHours');
            container.innerHTML = '';
            
            appData.openingHours.forEach(hours => {
                const hourItem = document.createElement('div');
                hourItem.className = 'flex justify-between py-2';
                hourItem.innerHTML = `
                    <span class="text-gray-300">${hours.day}</span>
                    <span class="font-semibold">${hours.hours}</span>
                `;
                container.appendChild(hourItem);
            });
        }
        
        // =====================
        // BOOKING FUNCTIONS
        // =====================
        
        function submitBooking() {
            // Get form values
            const name = document.getElementById('bookingName').value.trim();
            const phone = document.getElementById('bookingPhone').value.trim();
            const date = document.getElementById('bookingDate').value;
            const time = document.getElementById('bookingTime').value;
            const guests = document.getElementById('bookingGuests').value;
            const requests = document.getElementById('bookingRequests').value.trim();
            
            // Validate required fields
            if(!name || !phone || !date || !time || !guests) {
                showBookingMessage('Please fill all required fields', 'error');
                return;
            }
            
            // Validate phone
            if(phone.length < 8) {
                showBookingMessage('Please enter a valid phone number', 'error');
                return;
            }
            
            // Create booking object
            const booking = {
                id: Date.now(),
                name,
                phone,
                date,
                time,
                guests: parseInt(guests),
                requests,
                status: 'pending',
                created: new Date().toISOString()
            };
            
            // Add to bookings
            appData.bookings.push(booking);
            
            // Save data
            saveAppData();
            
            // Show success message
            showBookingModal(booking);
            
            // Reset form
            document.getElementById('bookingForm').reset();
            
            // Set today's date again
            const today = new Date().toISOString().split('T')[0];
            document.getElementById('bookingDate').value = today;
            
            // Reload bookings for admin panel
            loadBookings();
        }
        
        function loadBookings() {
            // Update stats
            updateBookingStats();
            
            // Update bookings table in admin panel
            updateBookingsTable();
        }
        
        function updateBookingStats() {
            const today = new Date().toISOString().split('T')[0];
            const bookings = appData.bookings;
            
            const total = bookings.length;
            const todayCount = bookings.filter(b => b.date === today).length;
            const pendingCount = bookings.filter(b => b.status === 'pending').length;
            const confirmedCount = bookings.filter(b => b.status === 'confirmed').length;
            
            // Update stats displays
            document.getElementById('totalBookings').textContent = total;
            document.getElementById('todayBookings').textContent = todayCount;
            document.getElementById('pendingBookings').textContent = pendingCount;
            document.getElementById('confirmedBookings').textContent = confirmedCount;
        }
        
        function updateBookingsTable() {
            const tableBody = document.getElementById('bookingsTableBody');
            tableBody.innerHTML = '';
            
            if(appData.bookings.length === 0) {
                tableBody.innerHTML = `
                    <tr>
                        <td colspan="6" class="p-6 text-center text-gray-500">
                            <i class="fas fa-calendar-times text-3xl mb-4"></i>
                            <p>No bookings yet</p>
                        </td>
                    </tr>
                `;
                return;
            }
            
            // Sort by date (newest first)
            const sortedBookings = [...appData.bookings].sort((a, b) => new Date(b.date) - new Date(a.date));
            
            sortedBookings.forEach(booking => {
                const row = document.createElement('tr');
                row.className = 'border-b border-gray-800 hover:bg-gray-800/30';
                row.innerHTML = `
                    <td class="p-3">
                        <div class="font-semibold">${booking.name}</div>
                        <div class="text-sm text-gray-400">Ref: #${booking.id.toString().slice(-6)}</div>
                    </td>
                    <td class="p-3">
                        <div class="font-semibold">${formatDate(booking.date)}</div>
                        <div class="text-sm text-gray-400">${booking.time}</div>
                    </td>
                    <td class="p-3">
                        <span class="bg-gray-800 px-3 py-1 rounded-full">${booking.guests} ${booking.guests === 1 ? 'person' : 'people'}</span>
                    </td>
                    <td class="p-3">
                        <div>${booking.phone}</div>
                    </td>
                    <td class="p-3">
                        <span class="px-3 py-1 rounded-full text-sm font-semibold ${getStatusClass(booking.status)}">
                            ${booking.status}
                        </span>
                    </td>
                    <td class="p-3">
                        <div class="flex space-x-2">
                            <button onclick="updateBookingStatus(${booking.id}, 'confirmed')" 
                                    class="bg-green-500 hover:bg-green-600 px-3 py-1 rounded text-sm transition-colors">
                                <i class="fas fa-check"></i>
                            </button>
                            <button onclick="updateBookingStatus(${booking.id}, 'cancelled')" 
                                    class="bg-red-500 hover:bg-red-600 px-3 py-1 rounded text-sm transition-colors">
                                <i class="fas fa-times"></i>
                            </button>
                            <button onclick="deleteBooking(${booking.id})" 
                                    class="bg-gray-700 hover:bg-gray-600 px-3 py-1 rounded text-sm transition-colors">
                                <i class="fas fa-trash"></i>
                            </button>
                        </div>
                    </td>
                `;
                tableBody.appendChild(row);
            });
        }
        
        function updateBookingStatus(bookingId, newStatus) {
            // Find and update booking
            const bookingIndex = appData.bookings.findIndex(b => b.id === bookingId);
            if(bookingIndex !== -1) {
                appData.bookings[bookingIndex].status = newStatus;
                
                // Save updated data
                saveAppData();
                
                // Reload bookings
                loadBookings();
                
                // Show notification
                showNotification(`Booking ${newStatus} successfully`, 'success');
            }
        }
        
        function deleteBooking(bookingId) {
            if(!confirm('Are you sure you want to delete this booking?')) return;
            
            // Filter out the deleted booking
            appData.bookings = appData.bookings.filter(b => b.id !== bookingId);
            
            // Save updated data
            saveAppData();
            
            // Reload bookings
            loadBookings();
            
            // Show notification
            showNotification('Booking deleted successfully', 'success');
        }
        
        function formatDate(dateString) {
            const options = { weekday: 'short', month: 'short', day: 'numeric' };
            return new Date(dateString).toLocaleDateString('en-US', options);
        }
        
        function getStatusClass(status) {
            switch(status) {
                case 'confirmed': return 'bg-green-900/30 text-green-400';
                case 'pending': return 'bg-yellow-900/30 text-yellow-400';
                case 'cancelled': return 'bg-red-900/30 text-red-400';
                default: return 'bg-gray-800 text-gray-400';
            }
        }
        
        // =====================
        // ADMIN PANEL FUNCTIONS
        // =====================
        
        function openAdminLogin() {
            document.getElementById('adminLoginModal').classList.remove('hidden');
        }
        
        function closeAdminLogin() {
            document.getElementById('adminLoginModal').classList.add('hidden');
            document.getElementById('adminPassword').value = '';
        }
        
        function adminLogin() {
            const password = document.getElementById('adminPassword').value;
            
            if(password === ADMIN_PASSWORD) {
                // Switch to admin view
                document.getElementById('publicView').classList.add('hidden');
                document.getElementById('adminView').classList.remove('hidden');
                document.getElementById('adminLoginModal').classList.add('hidden');
                
                // Load admin data
                loadAdminData();
                
                // Show notification
                showNotification('Admin login successful', 'success');
            } else {
                showNotification('Invalid password. Try: admin123', 'error');
            }
        }
        
        function switchToPublicView() {
            document.getElementById('adminView').classList.add('hidden');
            document.getElementById('publicView').classList.remove('hidden');
            
            // Reload public view with updated data
            initializePublicView();
        }
        
        function showAdminTab(tabName) {
            // Update active tab
            document.querySelectorAll('.admin-tab').forEach(tab => {
                if(tab.getAttribute('data-tab') === tabName) {
                    tab.classList.add('tab-active');
                } else {
                    tab.classList.remove('tab-active');
                }
            });
            
            // Show selected tab content
            document.querySelectorAll('.admin-tab-content').forEach(content => {
                if(content.id === 'admin' + tabName.charAt(0).toUpperCase() + tabName.slice(1)) {
                    content.classList.remove('hidden');
                    content.classList.add('fade-in');
                } else {
                    content.classList.add('hidden');
                }
            });
        }
        
        function loadAdminData() {
            // Load menu items for admin
            loadAdminMenuItems();
            
            // Load gallery manager
            loadGalleryManager();
            
            // Load current images preview
            loadCurrentImagesPreview();
        }
        
        // =====================
        // MENU MANAGER FUNCTIONS
        // =====================
        
        function loadAdminMenuItems() {
            const container = document.getElementById('adminMenuItems');
            container.innerHTML = '';
            
            if(appData.menuItems.length === 0) {
                container.innerHTML = '<p class="text-gray-500 text-center py-8">No menu items yet</p>';
                return;
            }
            
            appData.menuItems.forEach(item => {
                const itemElement = document.createElement('div');
                itemElement.className = 'bg-gray-800/50 rounded-xl p-4 md:p-6';
                itemElement.innerHTML = `
                    <div class="flex flex-col md:flex-row md:items-start gap-4 mb-4">
                        <div class="md:w-1/3">
                            <img src="${item.image}" 
                                 alt="${item.name}"
                                 class="rounded-lg w-full h-40 md:h-32 object-cover">
                        </div>
                        <div class="md:w-2/3">
                            <div class="flex justify-between items-start mb-2">
                                <h5 class="text-lg font-bold">${item.name}</h5>
                                <span class="bg-gray-700 px-3 py-1 rounded-full text-sm capitalize">${item.category}</span>
                            </div>
                            <p class="text-gray-400 mb-2">${item.description}</p>
                            <div class="flex justify-between items-center">
                                <span class="text-xl font-bold text-[#00ff9d]">$${item.price.toFixed(2)}</span>
                                <div class="flex space-x-2">
                                    <button onclick="editMenuItem(${item.id})" 
                                            class="bg-blue-500 hover:bg-blue-600 px-4 py-2 rounded-lg transition-colors text-sm">
                                        <i class="fas fa-edit mr-2"></i>Edit
                                    </button>
                                    <button onclick="deleteMenuItem(${item.id})" 
                                            class="bg-red-500 hover:bg-red-600 px-4 py-2 rounded-lg transition-colors text-sm">
                                        <i class="fas fa-trash mr-2"></i>Delete
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                `;
                container.appendChild(itemElement);
            });
        }
        
        function addMenuItem() {
            const name = document.getElementById('newItemName').value.trim();
            const category = document.getElementById('newItemCategory').value;
            const price = parseFloat(document.getElementById('newItemPrice').value);
            const image = document.getElementById('newItemImage').value.trim();
            const description = document.getElementById('newItemDescription').value.trim();
            
            // Validate
            if(!name || !price || !image) {
                showNotification('Please fill name, price, and image URL', 'error');
                return;
            }
            
            // Create new item
            const newItem = {
                id: Date.now(),
                name,
                category,
                description: description || `${name} - Dceylon specialty`,
                price,
                image: image || 'https://via.placeholder.com/400x300/1a1a1a/ffffff?text=Menu+Item'
            };
            
            // Add to menu
            appData.menuItems.push(newItem);
            
            // Save data
            saveAppData();
            
            // Reload admin menu display
            loadAdminMenuItems();
            
            // Update public menu if on the same category
            const activeCategory = document.querySelector('.tab-active')?.getAttribute('data-category') || 'all';
            showMenuCategory(activeCategory);
            
            // Clear form
            document.getElementById('newItemName').value = '';
            document.getElementById('newItemPrice').value = '';
            document.getElementById('newItemImage').value = '';
            document.getElementById('newItemDescription').value = '';
            
            // Show notification
            showNotification('Menu item added successfully', 'success');
        }
        
        function editMenuItem(itemId) {
            const item = appData.menuItems.find(item => item.id === itemId);
            if (!item) return;
            
            // Create edit form
            const newName = prompt('Edit item name:', item.name);
            if (newName === null) return;
            
            const newPrice = prompt('Edit item price:', item.price);
            if (newPrice === null) return;
            
            const newImage = prompt('Edit item image URL:', item.image);
            if (newImage === null) return;
            
            const newDescription = prompt('Edit item description:', item.description);
            
            // Update item
            item.name = newName.trim();
            item.price = parseFloat(newPrice);
            item.image = newImage.trim();
            if (newDescription !== null) {
                item.description = newDescription.trim();
            }
            
            // Save data
            saveAppData();
            
            // Reload displays
            loadAdminMenuItems();
            const activeCategory = document.querySelector('.tab-active')?.getAttribute('data-category') || 'all';
            showMenuCategory(activeCategory);
            
            showNotification('Menu item updated successfully', 'success');
        }
        
        function deleteMenuItem(itemId) {
            if(!confirm('Are you sure you want to delete this menu item?')) return;
            
            // Remove from menuItems array
            appData.menuItems = appData.menuItems.filter(item => item.id !== itemId);
            
            // Save data
            saveAppData();
            
            // Reload displays
            loadAdminMenuItems();
            const activeCategory = document.querySelector('.tab-active')?.getAttribute('data-category') || 'all';
            showMenuCategory(activeCategory);
            
            showNotification('Menu item deleted successfully', 'success');
        }
        
        // =====================
        // CONTENT MANAGER FUNCTIONS
        // =====================
        
        function updateHeroContent() {
            const imageUrl = document.getElementById('heroImageUrl').value.trim();
            const description = document.getElementById('heroDescriptionText').value.trim();
            
            if (!imageUrl) {
                showNotification('Please enter an image URL', 'error');
                return;
            }
            
            // Update hero content
            appData.heroContent.image = imageUrl;
            appData.heroContent.description = description || defaultData.heroContent.description;
            
            // Save data
            saveAppData();
            
            // Update preview
            document.getElementById('heroImagePreview').src = imageUrl;
            
            // Update public view
            document.getElementById('heroImage').src = imageUrl;
            document.getElementById('heroDescription').textContent = appData.heroContent.description;
            
            showNotification('Hero content updated successfully', 'success');
        }
        
        function loadGalleryManager() {
            const container = document.getElementById('galleryManager');
            container.innerHTML = '';
            
            if (appData.galleryImages.length === 0) {
                container.innerHTML = '<p class="text-gray-500 text-center py-4">No gallery images yet</p>';
                return;
            }
            
            appData.galleryImages.forEach((imageUrl, index) => {
                const item = document.createElement('div');
                item.className = 'flex items-center justify-between bg-gray-800/50 p-3 rounded-lg';
                item.innerHTML = `
                    <div class="flex items-center space-x-3">
                        <img src="${imageUrl}" 
                             alt="Gallery ${index + 1}"
                             class="w-12 h-12 object-cover rounded">
                        <span class="text-sm truncate max-w-xs">${imageUrl.substring(0, 50)}...</span>
                    </div>
                    <div class="flex space-x-2">
                        <button onclick="moveGalleryImage(${index}, 'up')" 
                                class="text-gray-400 hover:text-white" ${index === 0 ? 'disabled' : ''}>
                            <i class="fas fa-arrow-up"></i>
                        </button>
                        <button onclick="moveGalleryImage(${index}, 'down')" 
                                class="text-gray-400 hover:text-white" ${index === appData.galleryImages.length - 1 ? 'disabled' : ''}>
                            <i class="fas fa-arrow-down"></i>
                        </button>
                        <button onclick="removeGalleryImage(${index})" 
                                class="text-red-400 hover:text-red-300">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                `;
                container.appendChild(item);
            });
        }
        
        function addGalleryImage() {
            const imageUrl = document.getElementById('newGalleryUrl').value.trim();
            
            if (!imageUrl) {
                showNotification('Please enter an image URL', 'error');
                return;
            }
            
            // Validate URL format
            if (!imageUrl.startsWith('http')) {
                showNotification('Please enter a valid URL starting with http:// or https://', 'error');
                return;
            }
            
            // Add to gallery
            appData.galleryImages.push(imageUrl);
            
            // Save data
            saveAppData();
            
            // Reload gallery displays
            loadGalleryManager();
            renderGallery();
            loadCurrentImagesPreview();
            
            // Clear input
            document.getElementById('newGalleryUrl').value = '';
            document.getElementById('galleryPreview').src = 'https://via.placeholder.com/400x300/1a1a1a/ffffff?text=Add+Image+URL';
            
            showNotification('Gallery image added successfully', 'success');
        }
        
        function removeGalleryImage(index) {
            if(!confirm('Are you sure you want to remove this image from the gallery?')) return;
            
            // Remove image
            appData.galleryImages.splice(index, 1);
            
            // Save data
            saveAppData();
            
            // Reload gallery displays
            loadGalleryManager();
            renderGallery();
            loadCurrentImagesPreview();
            
            showNotification('Gallery image removed successfully', 'success');
        }
        
        function moveGalleryImage(index, direction) {
            if (direction === 'up' && index > 0) {
                // Swap with previous item
                [appData.galleryImages[index], appData.galleryImages[index - 1]] = 
                [appData.galleryImages[index - 1], appData.galleryImages[index]];
            } else if (direction === 'down' && index < appData.galleryImages.length - 1) {
                // Swap with next item
                [appData.galleryImages[index], appData.galleryImages[index + 1]] = 
                [appData.galleryImages[index + 1], appData.galleryImages[index]];
            } else {
                return;
            }
            
            // Save data
            saveAppData();
            
            // Reload gallery displays
            loadGalleryManager();
            renderGallery();
            
            showNotification('Gallery image order updated', 'success');
        }
        
        function loadCurrentImagesPreview() {
            const container = document.getElementById('currentImagesPreview');
            container.innerHTML = '';
            
            // Show hero image preview
            const heroPreview = document.createElement('div');
            heroPreview.className = 'text-center';
            heroPreview.innerHTML = `
                <p class="text-sm text-gray-400 mb-2">Hero Image</p>
                <img src="${appData.heroContent.image}" 
                     alt="Hero Preview"
                     class="rounded-lg h-40 w-full object-cover">
            `;
            container.appendChild(heroPreview);
            
            // Show menu item previews (first 3)
            appData.menuItems.slice(0, 3).forEach((item, index) => {
                const menuPreview = document.createElement('div');
                menuPreview.className = 'text-center';
                menuPreview.innerHTML = `
                    <p class="text-sm text-gray-400 mb-2 truncate">Menu: ${item.name}</p>
                    <img src="${item.image}" 
                         alt="${item.name}"
                         class="rounded-lg h-40 w-full object-cover">
                `;
                container.appendChild(menuPreview);
            });
            
            // Show gallery previews (first few)
            appData.galleryImages.slice(0, 4).forEach((imageUrl, index) => {
                const galleryPreview = document.createElement('div');
                galleryPreview.className = 'text-center';
                galleryPreview.innerHTML = `
                    <p class="text-sm text-gray-400 mb-2">Gallery ${index + 1}</p>
                    <img src="${imageUrl}" 
                         alt="Gallery Preview"
                         class="rounded-lg h-40 w-full object-cover">
                `;
                container.appendChild(galleryPreview);
            });
        }
        
        // =====================
        // CONTACT & HOURS FUNCTIONS
        // =====================
        
        function renderOpeningHoursInputs() {
            const container = document.getElementById('openingHoursInputs');
            container.innerHTML = '';
            
            appData.openingHours.forEach((hours, index) => {
                const hourInput = document.createElement('div');
                hourInput.className = 'grid grid-cols-2 gap-4';
                hourInput.innerHTML = `
                    <div>
                        <label class="block mb-2 text-sm">Day(s)</label>
                        <input type="text" 
                               value="${hours.day}"
                               onchange="updateOpeningHourField(${index}, 'day', this.value)"
                               class="w-full p-2 rounded-lg bg-gray-800 border border-gray-700 focus:border-[#00ff9d] focus:outline-none">
                    </div>
                    <div>
                        <label class="block mb-2 text-sm">Hours</label>
                        <input type="text" 
                               value="${hours.hours}"
                               onchange="updateOpeningHourField(${index}, 'hours', this.value)"
                               class="w-full p-2 rounded-lg bg-gray-800 border border-gray-700 focus:border-[#00ff9d] focus:outline-none">
                    </div>
                `;
                container.appendChild(hourInput);
            });
        }
        
        function updateOpeningHourField(index, field, value) {
            if (appData.openingHours[index]) {
                appData.openingHours[index][field] = value.trim();
            }
        }
        
        function updateOpeningHours() {
            // Data already updated via onchange events
            saveAppData();
            
            // Update public view
            renderOpeningHours();
            
            showNotification('Opening hours updated successfully', 'success');
        }
        
        function updateContactInfo() {
            const phone = document.getElementById('contactPhoneInput').value.trim();
            const email = document.getElementById('contactEmailInput').value.trim();
            const address = document.getElementById('contactAddressInput').value.trim();
            
            // Update contact info
            appData.contactInfo.phone = phone || defaultData.contactInfo.phone;
            appData.contactInfo.email = email || defaultData.contactInfo.email;
            appData.contactInfo.address = address || defaultData.contactInfo.address;
            
            // Save data
            saveAppData();
            
            // Update public view
            document.getElementById('contactPhone').textContent = appData.contactInfo.phone;
            document.getElementById('contactEmail').textContent = appData.contactInfo.email;
            
            showNotification('Contact information updated successfully', 'success');
        }
        
        // =====================
        // UTILITY FUNCTIONS
        // =====================
        
        function showBookingMessage(message, type) {
            const messageDiv = document.getElementById('bookingMessage');
            messageDiv.textContent = message;
            messageDiv.className = `text-center p-4 rounded-lg ${type === 'error' ? 'bg-red-900/30 text-red-300' : 'bg-green-900/30 text-green-300'}`;
            messageDiv.classList.remove('hidden');
            
            // Auto hide after 5 seconds
            setTimeout(() => {
                messageDiv.classList.add('hidden');
            }, 5000);
        }
        
        function showBookingModal(booking) {
            const modal = document.getElementById('bookingModal');
            const message = document.getElementById('modalMessage');
            
            message.textContent = `Thank you ${booking.name}! Your table for ${booking.guests} on ${formatDate(booking.date)} at ${booking.time} has been reserved. We'll contact you at ${booking.phone} to confirm.`;
            
            modal.classList.remove('hidden');
            
            // Add animation
            setTimeout(() => {
                modal.querySelector('.bg-gray-900').classList.remove('scale-95');
                modal.querySelector('.bg-gray-900').classList.add('scale-100');
            }, 10);
        }
        
        function closeBookingModal() {
            const modal = document.getElementById('bookingModal');
            modal.querySelector('.bg-gray-900').classList.remove('scale-100');
            modal.querySelector('.bg-gray-900').classList.add('scale-95');
            
            setTimeout(() => {
                modal.classList.add('hidden');
            }, 300);
        }
        
        function showNotification(message, type) {
            // Create notification element
            const notification = document.createElement('div');
            notification.className = `fixed top-6 right-6 z-[1000] px-6 py-4 rounded-xl font-semibold shadow-2xl transition-all transform translate-x-full ${type === 'success' ? 'bg-green-900 text-green-100' : 'bg-red-900 text-red-100'}`;
            notification.textContent = message;
            notification.id = 'tempNotification';
            
            document.body.appendChild(notification);
            
            // Animate in
            setTimeout(() => {
                notification.classList.remove('translate-x-full');
                notification.classList.add('translate-x-0');
            }, 10);
            
            // Remove after 4 seconds
            setTimeout(() => {
                notification.classList.remove('translate-x-0');
                notification.classList.add('translate-x-full');
                
                setTimeout(() => {
                    if(document.getElementById('tempNotification')) {
                        document.getElementById('tempNotification').remove();
                    }
                }, 300);
            }, 4000);
        }
        
        function saveAllData() {
            saveAppData();
            showNotification('All data saved successfully', 'success');
        }
        
        // =====================
        // INITIAL RENDER
        // =====================
        
        // Initialize everything when page loads
        window.addEventListener('load', function() {
            // Trigger initial animations
            setTimeout(() => {
                document.querySelectorAll('.fade-in').forEach(el => {
                    el.style.animation = 'fadeIn 0.8s ease-out';
                });
            }, 100);
            
            // Load any additional data
            if (typeof loadAdditionalData === 'function') {
                loadAdditionalData();
            }
        });
        
        // Auto-save data when leaving page
        window.addEventListener('beforeunload', function() {
            saveAppData();
        });
    </script>
</body>
</html>